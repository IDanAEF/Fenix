!function(){"use strict";var e=e=>{function t(e){let t="+7 (___) ___ __ __",c=0,n=t.replace(/\D/g,""),s=this.value.replace(/\D/g,"");n.length>=s.length&&(s=n),this.value=t.replace(/./g,(function(e){return/[_\d]/.test(e)&&c<s.length?s.charAt(c++):c>=s.length?"":e})),"blur"===e.type?2==this.value.length&&(this.value=""):((e,t)=>{if(t.focus(),t.setSelectionRange)t.setSelectionRange(e,e);else if(t.createTextRange){let c=t.createTextRange();c.collapse(!0),c.moveEnd("character",e),c.moveStart("character",e),c.select()}})(this.value.length,this)}document.querySelectorAll(e).forEach((e=>{e.addEventListener("input",t),e.addEventListener("focus",t),e.addEventListener("blur",t)}))};window.addEventListener("DOMContentLoaded",(()=>{(function(){try{const e=document.querySelectorAll(".main__promo-slider-item");let t=0;const c=()=>{e.forEach((e=>e.classList.remove("active"))),e[t].classList.add("active")};c(),e.length>1&&setInterval((()=>{c(t>=e.length-1?t=0:++t)}),1e4)}catch(n){console.log(n.stack)}try{const s=document.querySelectorAll(".main__stocks-item");function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;s.forEach((e=>e.classList.remove("active"))),s[e].classList.add("active")}if(o(),s.length>1){const l=document.querySelectorAll(".main__stocks-list-item");l[0].classList.add("active"),l.forEach(((e,t)=>{e.addEventListener("click",(()=>{l.forEach((e=>e.classList.remove("active"))),e.classList.add("active"),o(t)}))}))}}catch(i){console.log(i.stack)}try{const a=document.querySelector(".main__blog-items"),r=document.querySelectorAll(".main__blog-item");let d=0,u=0;a.addEventListener("touchstart",(e=>{d=e.changedTouches[0].screenX})),a.addEventListener("touchend",(e=>{window.innerWidth<=576&&(d-e.changedTouches[0].screenX>50?u==r.length-1?u=0:u++:d-e.changedTouches[0].screenX<-50&&(0==u?u=r.length-1:u--),a.style.transform=`translateX(-${(r[0].clientWidth+10)*u}px)`)}))}catch(m){console.log(m.stack)}try{const h=document.querySelectorAll(".market-sub__right-slider-line"),g=document.querySelector(".market-sub__right-slider-item"),v=()=>g.clientHeight+10;h.forEach(((e,t)=>{const c=e.querySelectorAll(".market-sub__right-slider-item");let n=0,s=1;setInterval((()=>{0==n?s=1:n==c.length-1&&(s=-1),n+=s,e.style.cssText=`transform: translateY(-${v()*n}px)`}),0==t?7e3:7e3+300*t)}))}catch(f){console.log(f.stack)}try{document.querySelectorAll(".services-slider-target").forEach((e=>{const t=e.querySelectorAll(".main__services-name"),c=e.querySelectorAll(".main__services-page"),n=e.querySelector(".main__services-pages"),s=e.querySelector(".main__services-rage");let o=0;function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(t.forEach((e=>e.classList.remove("active"))),c.forEach((e=>e.classList.remove("slide"))),t[e].classList.add("active"),s.querySelector(".curr").textContent=e+1<10?"0"+(e+1):e+1,0!=e)for(let t=c.length-1;t>=c.length-e;t--)c[t].classList.add("slide")}if(c[0]){s.querySelector(".all").textContent=t.length<10?"0"+t.length:t.length,l(),t.forEach(((e,t)=>{e.addEventListener("click",(()=>{o=t,l(o)}))}));let e=0;n.addEventListener("touchstart",(t=>{e=t.changedTouches[0].screenX})),n.addEventListener("touchend",(t=>{e-t.changedTouches[0].screenX>50&&o+1<c.length?(o++,l(o)):e-t.changedTouches[0].screenX<-50&&o-1>=0&&(o--,l(o))}))}}))}catch(y){console.log(y.stack)}})(),function(){try{const e=document.querySelector(".header__humburger"),t=document.querySelector(".mobile__close"),c=document.querySelector(".mobile");if(e){c.querySelectorAll("li").forEach((e=>{e.classList.add("anim_left")}));const n=c.querySelectorAll(".anim_left");e.addEventListener("click",(()=>{let e=400;n.forEach((t=>{setTimeout((()=>{t.classList.add("showanim")}),e),e+=70})),c.classList.add("active"),document.querySelector("html").classList.add("fixed"),document.querySelector("body").classList.add("fixed")})),t.addEventListener("click",(()=>{n.forEach((e=>{e.classList.remove("showanim")})),c.classList.remove("active"),document.querySelector("html").classList.remove("fixed"),document.querySelector("body").classList.remove("fixed")})),document.querySelectorAll(".mobile__nav-title").forEach((e=>{e.addEventListener("click",(t=>{"IMG"==t.target.nodeName&&t.target.classList.contains("light_right")?(t.preventDefault(),e.classList.add("active"),e.querySelector(".orange_left").classList.add("active"),t.target.classList.remove("active"),e.nextElementSibling.classList.add("active")):"IMG"==t.target.nodeName&&t.target.classList.contains("orange_left")&&(t.preventDefault(),e.classList.remove("active"),e.querySelector(".light_right").classList.add("active"),t.target.classList.remove("active"),e.nextElementSibling.classList.remove("active"))}))}))}}catch(s){console.log(s.stack)}try{const o=document.querySelectorAll("header li.menu-item-has-children"),l=document.querySelectorAll(".market-sub");if(o[0]){function i(){o.forEach((e=>{e.querySelector(".sub-menu").style.cssText=`padding-left: ${e.getBoundingClientRect().left}px; left: -${e.getBoundingClientRect().left}px;`,e.classList.contains("sub_banners_place")&&l.forEach((t=>{e.classList.contains(t.getAttribute("data-place"))&&(t.style.cssText=`padding-left: ${e.getBoundingClientRect().left}px; padding-right: ${document.querySelector(".container").getBoundingClientRect().left}px`)}))}))}function a(){o.forEach((e=>{e.querySelector(".sub-menu").classList.remove("open"),e.classList.remove("select")})),l.forEach((e=>e.classList.remove("open")))}i(),o.forEach((e=>{e.addEventListener("click",(t=>{t.composedPath().some((e=>"LI"==e.nodeName&&e.classList.contains("menu-item-has-children")&&!e.classList.contains("sub_banners_place")))&&!t.composedPath().some((e=>"UL"==e.nodeName&&e.classList.contains("sub-menu")))&&(e.querySelector(".sub-menu").classList.contains("open")?(e.querySelector(".sub-menu").classList.remove("open"),e.classList.remove("select")):(a(),e.querySelector(".sub-menu").classList.add("open"),e.classList.add("select"))),t.composedPath().some((e=>"LI"==e.nodeName&&e.classList.contains("menu-item-has-children")&&e.classList.contains("sub_banners_place")))&&(t.preventDefault(),l.forEach((t=>{e.classList.contains(t.getAttribute("data-place"))&&(t.classList.contains("open")?(t.classList.remove("open"),e.classList.remove("select")):(a(),t.classList.add("open"),e.classList.add("select")))})))}))})),window.addEventListener("click",(e=>{e.composedPath().some((e=>"LI"==e.nodeName&&e.classList.contains("menu-item-has-children")))||a()})),window.addEventListener("resize",(()=>{i()}))}}catch(r){console.log(r.stack)}try{const d=document.querySelectorAll(".main__cases-item");d[0]&&d.forEach((e=>{e.addEventListener("click",(t=>{window.innerWidth>576?window.location.href=e.getAttribute("data-url"):window.innerWidth<=576&&(e.classList.contains("active")&&!t.composedPath().some((e=>"DIV"==e.nodeName&&e.classList.contains("main__cases-item-target")))&&(window.location.href=e.getAttribute("data-url")),t.composedPath().some((t=>t==e||"DIV"==t.nodeName&&t.classList.contains("main__cases-item-target")))&&(e.classList.toggle("active"),e.querySelector(".main__cases-item-target").classList.toggle("active"),e.querySelector(".main__cases-item-character").classList.toggle("active")))}))}))}catch(u){console.log(u.stack)}try{const m=document.querySelectorAll(".main__market-item-tap");m[0]&&m.forEach((e=>{e.addEventListener("click",(()=>{e.classList.toggle("active"),e.previousElementSibling.previousElementSibling.classList.toggle("active"),e.previousElementSibling.classList.toggle("active")}))}))}catch(h){console.log(h.stack)}try{const g=document.querySelector("header");g&&window.addEventListener("scroll",(()=>{window.pageYOffset>=350?(g.classList.add("trans"),g.classList.add("active")):g.classList.remove("active"),window.pageYOffset>=150?(g.classList.add("fixed"),document.querySelector("main").style.cssText=`padding-top: ${g.clientHeight}px;`):(g.classList.remove("trans"),g.classList.remove("fixed"),document.querySelector("main").style.cssText="")}))}catch(v){console.log(v.stack)}try{const f=document.querySelector(".user-profile__side");f.querySelector(".side_slide").addEventListener("click",(()=>{f.classList.toggle("active")}))}catch(y){console.log(y.stack)}try{const L=document.querySelector(".auth__forget"),w=document.querySelectorAll(".auth__field"),S=document.querySelector(".auth__field.rememb"),_=document.querySelector(".auth__field.send"),p=document.querySelector(".auth__field.main-form");let q="e.dev@german-web.ru";const E=e=>{w.forEach((e=>e.classList.remove("active"))),e.classList.add("active")};L.addEventListener("click",(()=>{E(S)})),S.querySelector("#authemail-rememb").addEventListener("click",(()=>{S.querySelector("#authemail-rememb").classList.contains("failed")&&(S.querySelector("#authemail-rememb").value="",S.querySelector("#authemail-rememb").classList.remove("failed"))})),S.querySelector("form").addEventListener("submit",(e=>{e.preventDefault(),S.querySelector("#authemail-rememb").value==q?(E(_),setTimeout((()=>{E(p)}),5e3)):(S.querySelector("#authemail-rememb").value="Такого E-mail нет в системе",S.querySelector("#authemail-rememb").classList.add("failed"))}))}catch(b){console.log(b.stack)}try{document.querySelectorAll(".some-tap-place").forEach((e=>{e.addEventListener("click",(()=>{e.classList.toggle("active"),e.nextElementSibling.classList.toggle("active")}))}))}catch(k){console.log(k.stack)}}(),function(){try{const e=document.querySelectorAll(".main__market-item");let t=!1;const c=document.querySelector("html");function n(){let e=c.clientWidth;c.classList.add("fixed"),document.querySelector("body").style.cssText=`padding-right: ${c.offsetWidth-e}px;`,document.querySelector("body").classList.add("fixed")}function s(){c.classList.remove("fixed"),document.querySelector("body").style.cssText="",document.querySelector("body").classList.remove("fixed")}function o(e,t,c){for(var n=(e.getBoundingClientRect().top-100)/100,s=0;s<=t;)window.setTimeout(l,s,n,c),s+=t/100}function l(e,t){"center"!=t&&""!=t||window.scrollBy(0,e/2),"top"==t&&window.scrollBy(0,e)}let i,a=1,r=!1,d=!1,u=!0,m=!1,h=!1;if(document.querySelector("main.main")){function H(){window.innerWidth>=992&&!t&&((window.pageYOffset+window.innerHeight/2>=Y()&&!r&&!d||window.pageYOffset+window.innerHeight/2<=I()&&!r&&!u)&&(n(),r=!0),r&&!h&&(h=!0,window.scrollBy({top:e[0].clientHeight/2+e[0].getBoundingClientRect().top-window.innerHeight/2,behavior:"smooth"}),i=setInterval((()=>{window.scrollBy({top:e[0].clientHeight/2+e[0].getBoundingClientRect().top-window.innerHeight/2,behavior:"smooth"})}),400)))}function B(c){r&&window.innerWidth>=992&&!t&&(m||(m=!0,c.deltaY>0?a>=e.length?(r=!1,a=e.length,d=!0,u=!1,s(),h=!1,clearInterval(i)):(e[a].classList.add("active"),a++):(a--,a<=0?(r=!1,a=1,d=!1,u=!0,s(),h=!1,clearInterval(i)):e[a].classList.remove("active")),setTimeout((()=>{m=!1}),1e3)))}const Y=()=>e[0].clientHeight/2+e[0].getBoundingClientRect().y+window.pageYOffset,I=()=>e[0].clientHeight/2+e[0].getBoundingClientRect().y+window.pageYOffset;e[0]&&(window.addEventListener("scroll",H),window.addEventListener("wheel",B)),window.onbeforeunload=()=>{window.removeEventListener("scroll",H),window.removeEventListener("wheel",B),clearInterval(i),window.scroll(0,0)}}const g=document.querySelectorAll(".main__services-name"),v=document.querySelectorAll(".main__services-page"),f=document.querySelector(".main__services-pages"),y=document.querySelector(".main__services-skip"),L=document.querySelector(".main__services-rage");let w,S,_=0,p=!1,q=!1,E=!0,b=!1,k=!1,x=!1,A=!1,T=!1;const C=document.querySelector(".main__services-window");if(document.querySelector("main.main")){function O(e){x&&!t?x=!1:!x&&window.innerWidth>=992&&!t&&((window.pageYOffset+window.innerHeight/2>=$()&&!p&&!q||window.pageYOffset+window.innerHeight/2<=X()&&!p&&!E)&&(n(),p=!0),p&&!b&&(b=!0,window.scrollBy({top:C.clientHeight/2+C.getBoundingClientRect().top-window.innerHeight/2-107,behavior:"smooth"}),w=setInterval((()=>{window.scrollBy({top:C.clientHeight/2+C.getBoundingClientRect().top-window.innerHeight/2-107,behavior:"smooth"})}),400)))}function R(e){p&&window.innerWidth>=992&&!t&&(k||(k=!0,e.deltaY<0?(A=!0,T=!1):(A=!1,T=!0),W(e.deltaY),S=setTimeout((()=>{k=!1}),1300)),(e.deltaY<0&&T||e.deltaY>0&&A)&&(A=!1,T=!1,clearTimeout(S),W(e.deltaY),S=setTimeout((()=>{k=!1}),1300)))}function D(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(g.forEach((e=>e.classList.remove("active"))),v.forEach((e=>e.classList.remove("slide"))),g[e].classList.add("active"),L.querySelector(".curr").textContent=e+1<10?"0"+(e+1):e+1,0!=e)for(let t=v.length-1;t>=v.length-e;t--)v[t].classList.add("slide")}function W(e){e>0?(_++,_>=v.length?(p=!1,_=v.length-1,q=!0,E=!1,s(),b=!1,clearInterval(w)):D(_)):(_--,_<0?(p=!1,_=0,q=!1,E=!0,s(),b=!1,clearInterval(w)):D(_))}const $=()=>C.clientHeight/2+C.getBoundingClientRect().y+window.pageYOffset-107,X=()=>C.clientHeight/2+C.getBoundingClientRect().y+window.pageYOffset-107;if(v[0]){L.querySelector(".all").textContent=g.length<10?"0"+g.length:g.length,D(),g.forEach(((e,t)=>{e.addEventListener("click",(()=>{_=t,D(_)}))}));let N=0;f.addEventListener("touchstart",(e=>{N=e.changedTouches[0].screenX})),f.addEventListener("touchend",(e=>{N-e.changedTouches[0].screenX>50&&_+1<v.length?(_++,D(_)):N-e.changedTouches[0].screenX<-50&&_-1>=0&&(_--,D(_))})),y.addEventListener("click",(()=>{p=!1,q=!0,E=!1,x=!0,b=!1,s(),clearInterval(w)})),document.querySelector("#market").getBoundingClientRect().top,window.pageYOffset,window.addEventListener("scroll",O),window.addEventListener("wheel",R)}window.onbeforeunload=()=>{window.removeEventListener("scroll",O),window.removeEventListener("wheel",R),clearInterval(w),window.scroll(0,0)}}document.querySelectorAll('a[href^="#"').forEach((e=>{e.addEventListener("click",(function(c){c.preventDefault();let n=this.getAttribute("href").substring(1);const l=document.getElementById(n),a=l.getBoundingClientRect().top-0;t=!0;let m=!1;e.classList.contains("back_top")?(r=!1,p=!1,d=!1,u=!0,q=!1,E=!0,b=!1,h=!1,clearInterval(w),clearInterval(i)):(e.classList.contains("header__button")||e.classList.contains("mobile__button"))&&(document.querySelector(".mobile").querySelectorAll(".anim_left").forEach((e=>{e.classList.remove("showanim")})),document.querySelector(".mobile").classList.remove("active"),r=!1,p=!1,d=!0,u=!1,q=!0,E=!1,b=!1,h=!1,clearInterval(w),clearInterval(i),s(),window.scrollBy({top:a-100,behavior:"smooth"}),m=!0),setTimeout((()=>{t=!1}),1e3),m||o(l,275,"top")}))}))}catch(P){console.log(P.stack)}try{const M=document.querySelectorAll(".elem_animate"),F=document.querySelectorAll(".text_animate");function z(e){e.forEach((e=>{(window.innerWidth<=600?window.innerHeight/1.05:window.innerHeight/1.2)+window.pageYOffset>=e.getBoundingClientRect().y+window.pageYOffset&&e.classList.add("anim")}))}F.forEach((e=>{let t=e.textContent.trim(),c="",n=0;for(let e=0;e<t.length;e++)c+=`<div class="or" style="transition: 0.6s all ${n.toFixed(2)}s">${t[e]}</div>`,n+=.04;e.innerHTML=c})),z(M),z(F),window.addEventListener("scroll",(()=>{z(M),z(F)}))}catch(G){console.log(G.stack)}try{const V=document.querySelector("a.back_top");window.addEventListener("scroll",(()=>{window.pageYOffset>=document.querySelector("body").clientHeight/2&&V.classList.add("active"),(window.pageYOffset<=document.querySelector("body").clientHeight/2||window.innerHeight+window.pageYOffset>=document.querySelector("footer").getBoundingClientRect().y+document.querySelector("footer").clientHeight/2+window.pageYOffset)&&V.classList.remove("active")}))}catch(U){console.log(U.stack)}try{const j=document.querySelectorAll(".main__market-item-file-elem");function J(){window.innerWidth<=992?j.forEach((e=>{e.parentElement.getAttribute("data-mobile")&&e.querySelector("source").src!=e.parentElement.getAttribute("data-mobile")&&(e.querySelector("source").src=e.parentElement.getAttribute("data-mobile"),e.load())})):j.forEach((e=>{e.querySelector("source").src!=e.parentElement.getAttribute("data-file")&&(e.querySelector("source").src=e.parentElement.getAttribute("data-file"),e.load())}))}J(),window.addEventListener("resize",(()=>{J()}))}catch(K){console.log(K.stack)}}(),e('input[type="tel"]'),function(){try{const e=document.querySelector(".main__feed form"),t=e.querySelector("#file"),c=e.querySelector(".file_block").querySelector(".file_label");e.addEventListener("submit",(()=>{e.querySelector(".policy").classList.add("mt")}));let n=0;e.addEventListener("click",(e=>{e.composedPath().filter((e=>"A"==e.nodeName&&e.classList.contains("remove-file"))).length>0&&(n--,n<=0&&(c.innerHTML='<div class="gray_arrow"><img src="/wp-content/themes/Fenix/assets/images/arrow_gray.svg" alt=""></div>Прикрепить файл'))})),t.addEventListener("change",(()=>{n++,c.innerHTML='<div class="plus"><span></span><span></span></div>Добавить еще файл'}))}catch(e){console.log(e.stack)}try{const e=document.querySelector(".main__letter-form form");e.addEventListener("submit",(t=>{t.preventDefault(),async function(e,t){let c=await fetch("http://fenix.tw1.ru/?na=s",{method:"POST",body:t});return await c.text()}(0,new FormData(e)).then((()=>{e.querySelector(".main__letter-form-mess").textContent="Спасибо за подписку!"})).catch((()=>{e.querySelector(".main__letter-form-mess").textContent="Что-то пошло не так!"}))}))}catch(e){console.log(e.stack)}try{const e=document.querySelector(".auth"),t=e.querySelector("#authcheck"),c=e.querySelector(".auth__form-check-field label img");t.checked&&c.classList.toggle("active"),t.addEventListener("change",(()=>{c.classList.toggle("active")}))}catch(e){console.log(e.stack)}try{const e=document.querySelector(".auth__field.main-form form"),t=e.querySelectorAll(".auth__form-block");e.querySelector("button").addEventListener("click",(e=>{t.forEach((t=>{if(!t.querySelector("input").value){e.preventDefault();const c=t.querySelector("label"),n=t.querySelector("input");let s=c.textContent;c.textContent="Заполните поле",c.classList.add("fail"),n.classList.add("fail"),n.addEventListener("focus",(()=>{c.classList.remove("fail"),n.classList.remove("fail"),c.textContent=s}))}}))}))}catch(e){console.log(e.stack)}}(),function(){try{const e=document.querySelector("#findphone"),t=document.querySelectorAll(".phone-search"),c=document.querySelectorAll(".date-search"),n=document.querySelectorAll(".input_block"),s=document.querySelectorAll(".filter-item"),o=document.querySelector("#finddate");s.forEach((e=>{e.addEventListener("click",(()=>{e.classList.toggle("active")}))})),o.addEventListener("change",(()=>{c.forEach((e=>e.parentElement.style.cssText="")),c.forEach((e=>{-1==e.textContent.indexOf(o.value)&&(e.parentElement.style.cssText="display: none")}))})),e.addEventListener("keyup",(()=>{clearTimeout(c);var c=setTimeout((()=>{t.forEach((e=>e.parentElement.style.cssText="")),t.forEach((t=>{-1==t.textContent.indexOf(e.value)&&(t.parentElement.style.cssText="display: none")}))}),500)})),n.forEach((e=>{e.addEventListener("click",(()=>{e.querySelector(".input_block-list")&&(e.querySelector(".input_block-list").classList.toggle("active"),e.querySelector(".input_block-text img").classList.toggle("active"))}))}))}catch(e){console.log(e.stack)}}(),(()=>{try{document.querySelectorAll(".market__table-line").forEach((e=>{const t=e.nextElementSibling;let c=t.clientHeight,n=!1;t.style.height="0px",e.addEventListener("click",(()=>{n=!n,e.classList.toggle("active"),t.style.height=`${n?c:0}px`,t.classList.toggle("active")}))}))}catch(e){console.log(e.stack)}})()}))}();