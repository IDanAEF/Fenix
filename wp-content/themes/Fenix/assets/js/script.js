!function(){"use strict";var e=e=>{function t(e){let t="+7 (___) ___ __ __",n=0,c=t.replace(/\D/g,""),o=this.value.replace(/\D/g,"");c.length>=o.length&&(o=c),this.value=t.replace(/./g,(function(e){return/[_\d]/.test(e)&&n<o.length?o.charAt(n++):n>=o.length?"":e})),"blur"===e.type?2==this.value.length&&(this.value=""):((e,t)=>{if(t.focus(),t.setSelectionRange)t.setSelectionRange(e,e);else if(t.createTextRange){let n=t.createTextRange();n.collapse(!0),n.moveEnd("character",e),n.moveStart("character",e),n.select()}})(this.value.length,this)}document.querySelectorAll(e).forEach((e=>{e.addEventListener("input",t),e.addEventListener("focus",t),e.addEventListener("blur",t)}))};window.addEventListener("DOMContentLoaded",(()=>{(function(){try{const e=document.querySelectorAll(".main__promo-slider-item");let t=0;const n=()=>{e.forEach((e=>e.classList.remove("active"))),e[t].classList.add("active")};n(),e.length>1&&setInterval((()=>{n(t>=e.length-1?t=0:++t)}),1e4)}catch(c){console.log(c.stack)}try{const o=document.querySelectorAll(".main__stocks-item");function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;o.forEach((e=>e.classList.remove("active"))),o[e].classList.add("active")}if(s(),o.length>1){const l=document.querySelectorAll(".main__stocks-list-item");l[0].classList.add("active"),l.forEach(((e,t)=>{e.addEventListener("click",(()=>{l.forEach((e=>e.classList.remove("active"))),e.classList.add("active"),s(t)}))}))}}catch(i){console.log(i.stack)}try{const a=document.querySelector(".main__blog-items"),r=document.querySelectorAll(".main__blog-item");let d=0,u=0;a.addEventListener("touchstart",(e=>{d=e.changedTouches[0].screenX})),a.addEventListener("touchend",(e=>{window.innerWidth<=576&&(d-e.changedTouches[0].screenX>50?u==r.length-1?u=0:u++:d-e.changedTouches[0].screenX<-50&&(0==u?u=r.length-1:u--),a.style.transform=`translateX(-${(r[0].clientWidth+10)*u}px)`)}))}catch(m){console.log(m.stack)}try{const h=document.querySelectorAll(".market-sub__right-slider-line"),g=document.querySelector(".market-sub__right-slider-item"),v=()=>g.clientHeight+10;h.forEach(((e,t)=>{const n=e.querySelectorAll(".market-sub__right-slider-item");let c=0,o=1;setInterval((()=>{0==c?o=1:c==n.length-1&&(o=-1),c+=o,e.style.cssText=`transform: translateY(-${v()*c}px)`}),0==t?7e3:7e3+300*t)}))}catch(f){console.log(f.stack)}})(),function(){try{const e=document.querySelector(".header__humburger"),t=document.querySelector(".mobile__close"),n=document.querySelector(".mobile");if(e){n.querySelectorAll("li").forEach((e=>{e.classList.add("anim_left")}));const c=n.querySelectorAll(".anim_left");e.addEventListener("click",(()=>{let e=400;c.forEach((t=>{setTimeout((()=>{t.classList.add("showanim")}),e),e+=70})),n.classList.add("active"),document.querySelector("html").classList.add("fixed"),document.querySelector("body").classList.add("fixed")})),t.addEventListener("click",(()=>{c.forEach((e=>{e.classList.remove("showanim")})),n.classList.remove("active"),document.querySelector("html").classList.remove("fixed"),document.querySelector("body").classList.remove("fixed")})),document.querySelectorAll(".mobile__nav-title").forEach((e=>{e.addEventListener("click",(t=>{"IMG"==t.target.nodeName&&t.target.classList.contains("light_right")?(t.preventDefault(),e.classList.add("active"),e.querySelector(".orange_left").classList.add("active"),t.target.classList.remove("active"),e.nextElementSibling.classList.add("active")):"IMG"==t.target.nodeName&&t.target.classList.contains("orange_left")&&(t.preventDefault(),e.classList.remove("active"),e.querySelector(".light_right").classList.add("active"),t.target.classList.remove("active"),e.nextElementSibling.classList.remove("active"))}))}))}}catch(o){console.log(o.stack)}try{const s=document.querySelectorAll("header li.menu-item-has-children"),l=document.querySelectorAll(".market-sub");if(s[0]){function i(){s.forEach((e=>{e.querySelector(".sub-menu").style.cssText=`padding-left: ${e.getBoundingClientRect().left}px; left: -${e.getBoundingClientRect().left}px;`,e.classList.contains("sub_banners_place")&&l.forEach((t=>{e.classList.contains(t.getAttribute("data-place"))&&(t.style.cssText=`padding-left: ${e.getBoundingClientRect().left}px; padding-right: ${document.querySelector(".container").getBoundingClientRect().left}px`)}))}))}function a(){s.forEach((e=>{e.querySelector(".sub-menu").classList.remove("open"),e.classList.remove("select")})),l.forEach((e=>e.classList.remove("open")))}i(),s.forEach((e=>{e.addEventListener("click",(t=>{t.composedPath().some((e=>"LI"==e.nodeName&&e.classList.contains("menu-item-has-children")&&!e.classList.contains("sub_banners_place")))&&!t.composedPath().some((e=>"UL"==e.nodeName&&e.classList.contains("sub-menu")))&&(e.querySelector(".sub-menu").classList.contains("open")?(e.querySelector(".sub-menu").classList.remove("open"),e.classList.remove("select")):(a(),e.querySelector(".sub-menu").classList.add("open"),e.classList.add("select"))),t.composedPath().some((e=>"LI"==e.nodeName&&e.classList.contains("menu-item-has-children")&&e.classList.contains("sub_banners_place")))&&(t.preventDefault(),l.forEach((t=>{e.classList.contains(t.getAttribute("data-place"))&&(t.classList.contains("open")?(t.classList.remove("open"),e.classList.remove("select")):(a(),t.classList.add("open"),e.classList.add("select")))})))}))})),window.addEventListener("click",(e=>{e.composedPath().some((e=>"LI"==e.nodeName&&e.classList.contains("menu-item-has-children")))||a()})),window.addEventListener("resize",(()=>{i()}))}}catch(r){console.log(r.stack)}try{const d=document.querySelectorAll(".main__cases-item");d[0]&&d.forEach((e=>{e.addEventListener("click",(t=>{window.innerWidth>576?window.location.href=e.getAttribute("data-url"):window.innerWidth<=576&&(e.classList.contains("active")&&!t.composedPath().some((e=>"DIV"==e.nodeName&&e.classList.contains("main__cases-item-target")))&&(window.location.href=e.getAttribute("data-url")),t.composedPath().some((t=>t==e||"DIV"==t.nodeName&&t.classList.contains("main__cases-item-target")))&&(e.classList.toggle("active"),e.querySelector(".main__cases-item-target").classList.toggle("active"),e.querySelector(".main__cases-item-character").classList.toggle("active")))}))}))}catch(u){console.log(u.stack)}try{const m=document.querySelectorAll(".main__market-item-tap");m[0]&&m.forEach((e=>{e.addEventListener("click",(()=>{e.classList.toggle("active"),e.previousElementSibling.previousElementSibling.classList.toggle("active"),e.previousElementSibling.classList.toggle("active")}))}))}catch(h){console.log(h.stack)}try{const g=document.querySelector("header");g&&window.addEventListener("scroll",(()=>{window.pageYOffset>=350?(g.classList.add("trans"),g.classList.add("active")):g.classList.remove("active"),window.pageYOffset>=150?(g.classList.add("fixed"),document.querySelector("main").style.cssText=`padding-top: ${g.clientHeight}px;`):(g.classList.remove("trans"),g.classList.remove("fixed"),document.querySelector("main").style.cssText="")}))}catch(v){console.log(v.stack)}try{const f=document.querySelector(".user-profile__side");f.querySelector(".side_slide").addEventListener("click",(()=>{f.classList.toggle("active")}))}catch(y){console.log(y.stack)}try{const L=document.querySelector(".auth__forget"),w=document.querySelectorAll(".auth__field"),p=document.querySelector(".auth__field.rememb"),S=document.querySelector(".auth__field.send"),_=document.querySelector(".auth__field.main-form");let q="e.dev@german-web.ru";const E=e=>{w.forEach((e=>e.classList.remove("active"))),e.classList.add("active")};L.addEventListener("click",(()=>{E(p)})),p.querySelector("#authemail-rememb").addEventListener("click",(()=>{p.querySelector("#authemail-rememb").classList.contains("failed")&&(p.querySelector("#authemail-rememb").value="",p.querySelector("#authemail-rememb").classList.remove("failed"))})),p.querySelector("form").addEventListener("submit",(e=>{e.preventDefault(),p.querySelector("#authemail-rememb").value==q?(E(S),setTimeout((()=>{E(_)}),5e3)):(p.querySelector("#authemail-rememb").value="Такого E-mail нет в системе",p.querySelector("#authemail-rememb").classList.add("failed"))}))}catch(b){console.log(b.stack)}try{document.querySelectorAll(".single-service__point-top").forEach((e=>{e.addEventListener("click",(()=>{e.classList.toggle("active"),e.nextElementSibling.classList.toggle("active")}))}))}catch(k){console.log(k.stack)}}(),function(){try{const e=document.querySelectorAll(".main__market-item");let t=!1;const n=document.querySelector("html");function c(){let e=n.clientWidth;n.classList.add("fixed"),document.querySelector("body").style.cssText=`padding-right: ${n.offsetWidth-e}px;`,document.querySelector("body").classList.add("fixed")}function o(){n.classList.remove("fixed"),document.querySelector("body").style.cssText="",document.querySelector("body").classList.remove("fixed")}function s(e,t,n){for(var c=(e.getBoundingClientRect().top-100)/100,o=0;o<=t;)window.setTimeout(l,o,c,n),o+=t/100}function l(e,t){"center"!=t&&""!=t||window.scrollBy(0,e/2),"top"==t&&window.scrollBy(0,e)}let i,a=1,r=!1,d=!1,u=!0,m=!1,h=!1;function g(){window.innerWidth>=992&&!t&&((window.pageYOffset+window.innerHeight/2>=f()&&!r&&!d||window.pageYOffset+window.innerHeight/2<=y()&&!r&&!u)&&(c(),r=!0),r&&!h&&(h=!0,window.scrollBy({top:e[0].clientHeight/2+e[0].getBoundingClientRect().top-window.innerHeight/2,behavior:"smooth"}),i=setInterval((()=>{window.scrollBy({top:e[0].clientHeight/2+e[0].getBoundingClientRect().top-window.innerHeight/2,behavior:"smooth"})}),400)))}function v(n){r&&window.innerWidth>=992&&!t&&(m||(m=!0,n.deltaY>0?a>=e.length?(r=!1,a=e.length,d=!0,u=!1,o(),h=!1,clearInterval(i)):(e[a].classList.add("active"),a++):(a--,a<=0?(r=!1,a=1,d=!1,u=!0,o(),h=!1,clearInterval(i)):e[a].classList.remove("active")),setTimeout((()=>{m=!1}),1e3)))}const f=()=>e[0].clientHeight/2+e[0].getBoundingClientRect().y+window.pageYOffset,y=()=>e[0].clientHeight/2+e[0].getBoundingClientRect().y+window.pageYOffset;e[0]&&(window.addEventListener("scroll",g),window.addEventListener("wheel",v));const L=document.querySelectorAll(".main__services-name"),w=document.querySelectorAll(".main__services-page"),p=document.querySelector(".main__services-pages"),S=document.querySelector(".main__services-skip"),_=document.querySelector(".main__services-rage");let q,E,b=0,k=!1,x=!1,A=!0,T=!1,C=!1,H=!1,B=!1,Y=!1;const I=document.querySelector(".main__services-window");function O(e){H&&!t?H=!1:!H&&window.innerWidth>=992&&!t&&((window.pageYOffset+window.innerHeight/2>=$()&&!k&&!x||window.pageYOffset+window.innerHeight/2<=N()&&!k&&!A)&&(c(),k=!0),k&&!T&&(T=!0,window.scrollBy({top:I.clientHeight/2+I.getBoundingClientRect().top-window.innerHeight/2-107,behavior:"smooth"}),q=setInterval((()=>{window.scrollBy({top:I.clientHeight/2+I.getBoundingClientRect().top-window.innerHeight/2-107,behavior:"smooth"})}),400)))}function R(e){k&&window.innerWidth>=992&&!t&&(C||(C=!0,e.deltaY<0?(B=!0,Y=!1):(B=!1,Y=!0),W(e.deltaY),E=setTimeout((()=>{C=!1}),1300)),(e.deltaY<0&&Y||e.deltaY>0&&B)&&(B=!1,Y=!1,clearTimeout(E),W(e.deltaY),E=setTimeout((()=>{C=!1}),1300)))}function D(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(L.forEach((e=>e.classList.remove("active"))),w.forEach((e=>e.classList.remove("slide"))),L[e].classList.add("active"),_.querySelector(".curr").textContent=e+1<10?"0"+(e+1):e+1,0!=e)for(let t=w.length-1;t>=w.length-e;t--)w[t].classList.add("slide")}function W(e){e>0?(b++,b>=w.length?(k=!1,b=w.length-1,x=!0,A=!1,o(),T=!1,clearInterval(q)):D(b)):(b--,b<0?(k=!1,b=0,x=!1,A=!0,o(),T=!1,clearInterval(q)):D(b))}const $=()=>I.clientHeight/2+I.getBoundingClientRect().y+window.pageYOffset-107,N=()=>I.clientHeight/2+I.getBoundingClientRect().y+window.pageYOffset-107;if(w[0]){_.querySelector(".all").textContent=L.length<10?"0"+L.length:L.length,D(),L.forEach(((e,t)=>{e.addEventListener("click",(()=>{b=t,D(b)}))}));let P=0;p.addEventListener("touchstart",(e=>{P=e.changedTouches[0].screenX})),p.addEventListener("touchend",(e=>{P-e.changedTouches[0].screenX>50&&b+1<w.length?(b++,D(b)):P-e.changedTouches[0].screenX<-50&&b-1>=0&&(b--,D(b))})),S.addEventListener("click",(()=>{k=!1,x=!0,A=!1,H=!0,T=!1,o(),clearInterval(q)})),document.querySelector("#market").getBoundingClientRect().top,window.pageYOffset,window.addEventListener("scroll",O),window.addEventListener("wheel",R)}window.onbeforeunload=()=>{window.removeEventListener("scroll",O),window.removeEventListener("wheel",R),window.removeEventListener("scroll",g),window.removeEventListener("wheel",v),clearInterval(q),clearInterval(i),window.scroll(0,0)},document.querySelectorAll('a[href^="#"').forEach((e=>{e.addEventListener("click",(function(n){n.preventDefault();let c=this.getAttribute("href").substring(1);const l=document.getElementById(c),a=l.getBoundingClientRect().top-0;t=!0;let m=!1;e.classList.contains("back_top")?(r=!1,k=!1,d=!1,u=!0,x=!1,A=!0,T=!1,h=!1,clearInterval(q),clearInterval(i)):(e.classList.contains("header__button")||e.classList.contains("mobile__button"))&&(document.querySelector(".mobile").querySelectorAll(".anim_left").forEach((e=>{e.classList.remove("showanim")})),document.querySelector(".mobile").classList.remove("active"),r=!1,k=!1,d=!0,u=!1,x=!0,A=!1,T=!1,h=!1,clearInterval(q),clearInterval(i),o(),window.scrollBy({top:a-100,behavior:"smooth"}),m=!0),setTimeout((()=>{t=!1}),1e3),m||s(l,275,"top")}))}))}catch(X){console.log(X.stack)}try{const M=document.querySelectorAll(".elem_animate"),F=document.querySelectorAll(".text_animate");function z(e){e.forEach((e=>{(window.innerWidth<=600?window.innerHeight/1.05:window.innerHeight/1.2)+window.pageYOffset>=e.getBoundingClientRect().y+window.pageYOffset&&e.classList.add("anim")}))}F.forEach((e=>{let t=e.textContent.trim(),n="",c=0;for(let e=0;e<t.length;e++)n+=`<div class="or" style="transition: 0.6s all ${c.toFixed(2)}s">${t[e]}</div>`,c+=.04;e.innerHTML=n})),z(M),z(F),window.addEventListener("scroll",(()=>{z(M),z(F)}))}catch(G){console.log(G.stack)}try{const V=document.querySelector("a.back_top");window.addEventListener("scroll",(()=>{window.pageYOffset>=document.querySelector("body").clientHeight/2&&V.classList.add("active"),(window.pageYOffset<=document.querySelector("body").clientHeight/2||window.innerHeight+window.pageYOffset>=document.querySelector("footer").getBoundingClientRect().y+document.querySelector("footer").clientHeight/2+window.pageYOffset)&&V.classList.remove("active")}))}catch(U){console.log(U.stack)}try{const j=document.querySelectorAll(".main__market-item-file-elem");function J(){window.innerWidth<=992?j.forEach((e=>{e.parentElement.getAttribute("data-mobile")&&e.querySelector("source").src!=e.parentElement.getAttribute("data-mobile")&&(e.querySelector("source").src=e.parentElement.getAttribute("data-mobile"),e.load())})):j.forEach((e=>{e.querySelector("source").src!=e.parentElement.getAttribute("data-file")&&(e.querySelector("source").src=e.parentElement.getAttribute("data-file"),e.load())}))}J(),window.addEventListener("resize",(()=>{J()}))}catch(K){console.log(K.stack)}}(),e('input[type="tel"]'),function(){try{const e=document.querySelector(".main__feed form"),t=e.querySelector("#file"),n=e.querySelector(".file_block").querySelector(".file_label");e.addEventListener("submit",(()=>{e.querySelector(".policy").classList.add("mt")}));let c=0;e.addEventListener("click",(e=>{e.composedPath().filter((e=>"A"==e.nodeName&&e.classList.contains("remove-file"))).length>0&&(c--,c<=0&&(n.innerHTML='<div class="gray_arrow"><img src="/wp-content/themes/Fenix/assets/images/arrow_gray.svg" alt=""></div>Прикрепить файл'))})),t.addEventListener("change",(()=>{c++,n.innerHTML='<div class="plus"><span></span><span></span></div>Добавить еще файл'}))}catch(e){console.log(e.stack)}try{const e=document.querySelector(".main__letter-form form");e.addEventListener("submit",(t=>{t.preventDefault(),async function(e,t){let n=await fetch("http://fenix.tw1.ru/?na=s",{method:"POST",body:t});return await n.text()}(0,new FormData(e)).then((()=>{e.querySelector(".main__letter-form-mess").textContent="Спасибо за подписку!"})).catch((()=>{e.querySelector(".main__letter-form-mess").textContent="Что-то пошло не так!"}))}))}catch(e){console.log(e.stack)}try{const e=document.querySelector(".auth"),t=e.querySelector("#authcheck"),n=e.querySelector(".auth__form-check-field label img");t.checked&&n.classList.toggle("active"),t.addEventListener("change",(()=>{n.classList.toggle("active")}))}catch(e){console.log(e.stack)}try{const e=document.querySelector(".auth__field.main-form form"),t=e.querySelectorAll(".auth__form-block");e.querySelector("button").addEventListener("click",(e=>{t.forEach((t=>{if(!t.querySelector("input").value){e.preventDefault();const n=t.querySelector("label"),c=t.querySelector("input");let o=n.textContent;n.textContent="Заполните поле",n.classList.add("fail"),c.classList.add("fail"),c.addEventListener("focus",(()=>{n.classList.remove("fail"),c.classList.remove("fail"),n.textContent=o}))}}))}))}catch(e){console.log(e.stack)}}(),function(){try{const e=document.querySelector("#findphone"),t=document.querySelectorAll(".phone-search"),n=document.querySelectorAll(".date-search"),c=document.querySelectorAll(".input_block"),o=document.querySelectorAll(".filter-item"),s=document.querySelector("#finddate");o.forEach((e=>{e.addEventListener("click",(()=>{e.classList.toggle("active")}))})),s.addEventListener("change",(()=>{n.forEach((e=>e.parentElement.style.cssText="")),n.forEach((e=>{-1==e.textContent.indexOf(s.value)&&(e.parentElement.style.cssText="display: none")}))})),e.addEventListener("keyup",(()=>{clearTimeout(n);var n=setTimeout((()=>{t.forEach((e=>e.parentElement.style.cssText="")),t.forEach((t=>{-1==t.textContent.indexOf(e.value)&&(t.parentElement.style.cssText="display: none")}))}),500)})),c.forEach((e=>{e.addEventListener("click",(()=>{e.querySelector(".input_block-list")&&(e.querySelector(".input_block-list").classList.toggle("active"),e.querySelector(".input_block-text img").classList.toggle("active"))}))}))}catch(e){console.log(e.stack)}}()}))}();