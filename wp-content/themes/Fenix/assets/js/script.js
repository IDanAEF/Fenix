!function(){"use strict";var e=e=>{function t(e){let t="+7 (___) ___ __ __",n=0,i=t.replace(/\D/g,""),c=this.value.replace(/\D/g,"");i.length>=c.length&&(c=i),this.value=t.replace(/./g,(function(e){return/[_\d]/.test(e)&&n<c.length?c.charAt(n++):n>=c.length?"":e})),"blur"===e.type?2==this.value.length&&(this.value=""):((e,t)=>{if(t.focus(),t.setSelectionRange)t.setSelectionRange(e,e);else if(t.createTextRange){let n=t.createTextRange();n.collapse(!0),n.moveEnd("character",e),n.moveStart("character",e),n.select()}})(this.value.length,this)}document.querySelectorAll(e).forEach((e=>{e.addEventListener("input",t),e.addEventListener("focus",t),e.addEventListener("blur",t)}))};window.addEventListener("DOMContentLoaded",(()=>{(function(){try{const e=document.querySelectorAll(".main__promo-slider-item");let t=0;const n=()=>{e.forEach((e=>e.classList.remove("active"))),e[t].classList.add("active")};n(),setInterval((()=>{n(t>=e.length-1?t=0:++t)}),7e3)}catch(i){console.log(i.stack)}try{const c=document.querySelectorAll(".main__stocks-item");function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;c.forEach((e=>e.classList.remove("active"))),c[e].classList.add("active")}if(s(),c.length>1){const o=document.querySelectorAll(".main__stocks-list-item");o[0].classList.add("active"),o.forEach(((e,t)=>{e.addEventListener("click",(()=>{o.forEach((e=>e.classList.remove("active"))),e.classList.add("active"),s(t)}))}))}}catch(l){console.log(l.stack)}})(),function(){try{const e=document.querySelector(".header__humburger"),t=document.querySelector(".mobile__close"),n=document.querySelector(".mobile");n.querySelectorAll("li").forEach((e=>{e.classList.add("anim_left")}));const i=n.querySelectorAll(".anim_left");e.addEventListener("click",(()=>{let e=400;i.forEach((t=>{setTimeout((()=>{t.classList.add("showanim")}),e),e+=70})),n.classList.add("active"),document.querySelector("html").classList.add("fixed"),document.querySelector("body").classList.add("fixed")})),t.addEventListener("click",(()=>{i.forEach((e=>{e.classList.remove("showanim")})),n.classList.remove("active"),document.querySelector("html").classList.remove("fixed"),document.querySelector("body").classList.remove("fixed")})),document.querySelectorAll(".mobile__nav-title").forEach((e=>{e.addEventListener("click",(t=>{"IMG"==t.target.nodeName&&t.target.classList.contains("light_right")?(t.preventDefault(),e.classList.add("active"),e.querySelector(".orange_left").classList.add("active"),t.target.classList.remove("active"),e.nextElementSibling.classList.add("active")):"IMG"==t.target.nodeName&&t.target.classList.contains("orange_left")&&(t.preventDefault(),e.classList.remove("active"),e.querySelector(".light_right").classList.add("active"),t.target.classList.remove("active"),e.nextElementSibling.classList.remove("active"))}))}))}catch(c){console.log(c.stack)}try{const s=document.querySelectorAll("header li.menu-item-has-children");function o(){s.forEach((e=>{e.querySelector(".sub-menu").style.cssText=`padding-left: ${e.getBoundingClientRect().left}px; left: -${e.getBoundingClientRect().left}px;`}))}function l(){s.forEach((e=>{e.querySelector(".sub-menu").classList.remove("open"),e.classList.remove("select")}))}o(),s.forEach((e=>{e.addEventListener("click",(t=>{t.composedPath().some((e=>"LI"==e.nodeName&&e.classList.contains("menu-item-has-children")))&&!t.composedPath().some((e=>"UL"==e.nodeName&&e.classList.contains("sub-menu")))&&(e.querySelector(".sub-menu").classList.contains("open")?(e.querySelector(".sub-menu").classList.remove("open"),e.classList.remove("select")):(l(),e.querySelector(".sub-menu").classList.add("open"),e.classList.add("select")))}))})),window.addEventListener("click",(e=>{e.composedPath().some((e=>"LI"==e.nodeName&&e.classList.contains("menu-item-has-children")))||l()})),window.addEventListener("resize",(()=>{o()}))}catch(a){console.log(a.stack)}try{document.querySelectorAll(".main__cases-item").forEach((e=>{e.addEventListener("click",(t=>{window.innerWidth>576?window.location.href=e.getAttribute("data-url"):window.innerWidth<=576&&(e.classList.contains("active")&&!t.composedPath().some((e=>"DIV"==e.nodeName&&e.classList.contains("main__cases-item-target")))&&(window.location.href=e.getAttribute("data-url")),t.composedPath().some((t=>t==e||"DIV"==t.nodeName&&t.classList.contains("main__cases-item-target")))&&(e.classList.toggle("active"),e.querySelector(".main__cases-item-target").classList.toggle("active"),e.querySelector(".main__cases-item-character").classList.toggle("active")))}))}))}catch(r){console.log(r.stack)}try{document.querySelectorAll(".main__market-item-tap").forEach((e=>{e.addEventListener("click",(()=>{e.classList.toggle("active"),e.previousElementSibling.previousElementSibling.classList.toggle("active"),e.previousElementSibling.classList.toggle("active")}))}))}catch(d){console.log(d.stack)}try{const u=document.querySelector("header");window.addEventListener("scroll",(()=>{window.pageYOffset>=350?(u.classList.add("trans"),u.classList.add("active")):u.classList.remove("active"),window.pageYOffset>=150?(u.classList.add("fixed"),document.querySelector("main").style.cssText=`padding-top: ${u.clientHeight}px;`):(u.classList.remove("trans"),u.classList.remove("fixed"),document.querySelector("main").style.cssText="")}))}catch(m){console.log(m.stack)}}(),function(){try{const e=document.querySelectorAll(".main__market-item");let t=!1;const n=document.querySelector("html");function i(){let e=n.clientWidth;n.classList.add("fixed"),document.querySelector("body").style.cssText=`padding-right: ${n.offsetWidth-e}px;`,document.querySelector("body").classList.add("fixed")}function c(){n.classList.remove("fixed"),document.querySelector("body").style.cssText="",document.querySelector("body").classList.remove("fixed")}function s(e,t,n){for(var i=(e.getBoundingClientRect().top-100)/100,c=0;c<=t;)window.setTimeout(o,c,i,n),c+=t/100}function o(e,t){"center"!=t&&""!=t||window.scrollBy(0,e/2),"top"==t&&window.scrollBy(0,e)}const l=()=>e[0].clientHeight/2+e[0].getBoundingClientRect().y+window.pageYOffset,a=()=>e[0].clientHeight/2+e[0].getBoundingClientRect().y+window.pageYOffset;let r,d=1,u=!1,m=!1,g=!0,h=!1,f=!1;function v(){window.innerWidth>=992&&!t&&((window.pageYOffset+window.innerHeight/2>=l()&&!u&&!m||window.pageYOffset+window.innerHeight/2<=a()&&!u&&!g)&&(i(),u=!0),u&&!f&&(f=!0,window.scrollBy({top:e[0].clientHeight/2+e[0].getBoundingClientRect().top-window.innerHeight/2,behavior:"smooth"}),r=setInterval((()=>{window.scrollBy({top:e[0].clientHeight/2+e[0].getBoundingClientRect().top-window.innerHeight/2,behavior:"smooth"})}),400)))}function w(n){u&&window.innerWidth>=992&&!t&&(h||(h=!0,n.deltaY>0?d>=e.length?(u=!1,d=e.length,m=!0,g=!1,c(),f=!1,clearInterval(r)):(e[d].classList.add("active"),d++):(d--,d<=0?(u=!1,d=1,m=!1,g=!0,c(),f=!1,clearInterval(r)):e[d].classList.remove("active")),setTimeout((()=>{h=!1}),1e3)))}window.addEventListener("scroll",v),window.addEventListener("wheel",w);const L=document.querySelectorAll(".main__services-name"),y=document.querySelectorAll(".main__services-page"),p=document.querySelector(".main__services-pages"),_=document.querySelector(".main__services-skip"),E=document.querySelector(".main__services-rage");let S=0;function q(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(L.forEach((e=>e.classList.remove("active"))),y.forEach((e=>e.classList.remove("slide"))),L[e].classList.add("active"),E.querySelector(".curr").textContent=e+1<10?"0"+(e+1):e+1,0!=e)for(let t=y.length-1;t>=y.length-e;t--)y[t].classList.add("slide")}E.querySelector(".all").textContent=L.length<10?"0"+L.length:L.length,q(),L.forEach(((e,t)=>{e.addEventListener("click",(()=>{S=t,q(S)}))}));let b=0;p.addEventListener("touchstart",(e=>{b=e.changedTouches[0].screenX})),p.addEventListener("touchend",(e=>{b-e.changedTouches[0].screenX>50&&S+1<y.length?(S++,q(S)):b-e.changedTouches[0].screenX<-50&&S-1>=0&&(S--,q(S))}));const k=document.querySelector(".main__services-window"),x=()=>k.clientHeight/2+k.getBoundingClientRect().y+window.pageYOffset,A=()=>k.clientHeight/2+k.getBoundingClientRect().y+window.pageYOffset;let H,B,T=!1,Y=!1,I=!0,C=!1,R=!1,O=!1,D=!1,N=!1;function W(e){e>0?(S++,S>=y.length?(T=!1,S=y.length-1,Y=!0,I=!1,c(),C=!1,clearInterval(H)):q(S)):(S--,S<0?(T=!1,S=0,Y=!1,I=!0,c(),C=!1,clearInterval(H)):q(S))}function $(e){O&&!t?O=!1:!O&&window.innerWidth>=992&&!t&&((window.pageYOffset+window.innerHeight/2>=x()&&!T&&!Y||window.pageYOffset+window.innerHeight/2<=A()&&!T&&!I)&&(i(),T=!0),T&&!C&&(C=!0,window.scrollBy({top:k.clientHeight/2+k.getBoundingClientRect().top-window.innerHeight/2-50,behavior:"smooth"}),H=setInterval((()=>{window.scrollBy({top:k.clientHeight/2+k.getBoundingClientRect().top-window.innerHeight/2-50,behavior:"smooth"})}),400)))}function P(e){T&&window.innerWidth>=992&&!t&&(R||(R=!0,e.deltaY<0?(D=!0,N=!1):(D=!1,N=!0),W(e.deltaY),B=setTimeout((()=>{R=!1}),1e3)),(e.deltaY<0&&N||e.deltaY>0&&D)&&(D=!1,N=!1,clearTimeout(B),W(e.deltaY),B=setTimeout((()=>{R=!1}),1e3)))}_.addEventListener("click",(()=>{T=!1,Y=!0,I=!1,O=!0,C=!1,c(),clearInterval(H)})),document.querySelector("#market").getBoundingClientRect().top,window.pageYOffset,window.addEventListener("scroll",$),window.addEventListener("wheel",P),window.onbeforeunload=()=>{window.removeEventListener("scroll",$),window.removeEventListener("wheel",P),window.removeEventListener("scroll",v),window.removeEventListener("wheel",w),clearInterval(H),clearInterval(r),window.scroll(0,0)},document.querySelectorAll('a[href^="#"').forEach((e=>{e.addEventListener("click",(function(n){n.preventDefault();let i=this.getAttribute("href").substring(1);const c=document.getElementById(i);c.getBoundingClientRect().top,t=!0,setTimeout((()=>{t=!1,e.classList.contains("back_top")&&(m=!1,g=!0,Y=!1,I=!0,C=!1,f=!1,clearInterval(H),clearInterval(r))}),1e3),s(c,275,"top")}))}))}catch(M){console.log(M.stack)}try{const z=document.querySelector("a.back_top");window.addEventListener("scroll",(()=>{window.pageYOffset>=document.querySelector("body").clientHeight/2&&z.classList.add("active"),(window.pageYOffset<=document.querySelector("body").clientHeight/2||window.innerHeight+window.pageYOffset>=document.querySelector("footer").getBoundingClientRect().y+window.pageYOffset)&&z.classList.remove("active")}))}catch(V){console.log(V.stack)}try{const X=document.querySelectorAll(".main__market-item-file-elem");function F(){window.innerWidth<=992?X.forEach((e=>{e.parentElement.getAttribute("data-mobile")&&e.src!=e.parentElement.getAttribute("data-mobile")&&(e.src=e.parentElement.getAttribute("data-mobile"))})):X.forEach((e=>{e.src!=e.parentElement.getAttribute("data-file")&&(e.src=e.parentElement.getAttribute("data-file"))}))}F(),window.addEventListener("resize",(()=>{F()}))}catch(G){console.log(G.stack)}}(),e('input[type="tel"]'),function(){try{const e=document.querySelector(".main__feed form"),t=e.querySelector("#file"),n=e.querySelector(".file_block"),i=n.querySelector(".file_label");e.addEventListener("submit",(()=>{e.querySelector(".policy").classList.add("mt")}));let c=2,s=[];function o(e){let t=document.createElement("div");t.classList.add("file_name"),t.setAttribute("data-inp",c),t.innerHTML=`${e}<div class="close"><span></span><span></span></div>`,n.prepend(t),i.innerHTML='<div class="plus"><span></span><span></span></div>Добавить еще файл';let l=document.createElement("input");l.type="file",l.name=`file-${c}`,l.size="40",l.className="wpcf7-form-control wpcf7-file",l.id=`file-${c}`,l.accept="audio/*,video/*,image/*",l.setAttribute("aria-invalid","false"),s.push(c),console.log(s),i.before(l),i.setAttribute("for","file-"+c++),l.addEventListener("change",(()=>{l.files[0]&&o(l.files[0].name)}))}function l(e){let t=e.parentElement.getAttribute("data-inp");s=s.filter((e=>e!=t)),console.log(s),e.parentElement.remove(),n.querySelector(`#file-${t}`).remove(),0==s.length&&(c=2,i.setAttribute("for","file"),i.innerHTML='<div class="gray_arrow"><img src="/wp-content/themes/Fenix/assets/images/arrow_gray.svg" alt=""></div>Прикрепить файл')}n.addEventListener("click",(e=>{e.composedPath().forEach((e=>{"DIV"==e.nodeName&&e.classList.contains("close")&&l(e)}))})),t.addEventListener("change",(()=>{t.files[0]&&o(t.files[0].name)}))}catch(a){console.log(a.stack)}try{const r=document.querySelector(".main__letter-form form");r.addEventListener("submit",(e=>{e.preventDefault(),async function(e,t){let n=await fetch("http://fenix.tw1.ru/?na=s",{method:"POST",body:t});return await n.text()}(0,new FormData(r)).then((()=>{r.querySelector(".main__letter-form-mess").textContent="Спасибо за подписку!"})).catch((()=>{r.querySelector(".main__letter-form-mess").textContent="Что-то пошло не так!"}))}))}catch(d){console.log(d.stack)}}()}))}();